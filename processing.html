<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Processing - InsulaAI</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="css/shared-styles.css" rel="stylesheet">
    
    <style>
        body {
            background: var(--deep-black);
            overflow-x: hidden;
        }
        
        .bg-animated {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            background: linear-gradient(135deg, #0a0a0f 0%, #1a0a2e 30%, #0f0a1a 60%, #0a0a0f 100%);
            background-size: 400% 400%;
            animation: gradientShift 20s ease infinite;
        }
        
        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .circuit-grid {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.05;
            background-image: 
                linear-gradient(var(--neon-cyan) 1px, transparent 1px),
                linear-gradient(90deg, var(--neon-cyan) 1px, transparent 1px);
            background-size: 60px 60px;
            animation: gridMove 30s linear infinite;
        }
        
        @keyframes gridMove {
            0% { transform: translate(0, 0); }
            100% { transform: translate(60px, 60px); }
        }
        
        .processing-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            z-index: 2;
            padding: 50px 20px;
        }
        
        .processing-card {
            background: rgba(26, 26, 36, 0.9);
            backdrop-filter: blur(25px);
            border: 2px solid rgba(0, 240, 255, 0.3);
            border-radius: 30px;
            padding: 60px;
            max-width: 900px;
            width: 100%;
            box-shadow: 0 0 60px rgba(0, 240, 255, 0.3);
            text-align: center;
        }
        
        .processing-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 2.5rem;
            font-weight: 900;
            background: linear-gradient(90deg, var(--neon-cyan), var(--neon-violet));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 30px;
            filter: drop-shadow(0 0 25px rgba(0, 240, 255, 0.5));
        }
        
        .pipeline {
            display: flex;
            justify-content: space-between;
            margin: 50px 0;
            position: relative;
        }
        
        .pipeline::before {
            content: '';
            position: absolute;
            top: 30px;
            left: 15%;
            right: 15%;
            height: 3px;
            background: rgba(0, 240, 255, 0.2);
            z-index: 0;
        }
        
        .energy-flow {
            position: absolute;
            top: 30px;
            left: 15%;
            height: 3px;
            width: 0;
            background: linear-gradient(90deg, var(--neon-cyan), var(--neon-violet));
            box-shadow: 0 0 15px var(--neon-cyan);
            z-index: 1;
            animation: flowEnergy 12s linear infinite;
        }
        
        @keyframes flowEnergy {
            0% { width: 0%; }
            100% { width: 70%; }
        }
        
        .pipeline-step {
            flex: 1;
            position: relative;
            z-index: 2;
        }
        
        .step-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: rgba(26, 26, 36, 0.9);
            border: 3px solid rgba(0, 240, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-size: 1.5rem;
            color: rgba(0, 240, 255, 0.5);
            transition: all 0.5s ease;
        }
        
        .step-icon.active {
            border-color: var(--neon-cyan);
            background: var(--neon-cyan);
            color: var(--deep-black);
            box-shadow: 0 0 30px var(--neon-cyan);
            animation: pulse 2s infinite;
        }
        
        .step-icon.completed {
            border-color: var(--neon-violet);
            background: var(--neon-violet);
            color: #fff;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .step-label {
            font-family: 'Orbitron', sans-serif;
            color: #888;
            font-size: 0.9rem;
            font-weight: 600;
        }
        
        .step-label.active {
            color: var(--neon-cyan);
        }
        
        .progress-section {
            margin: 40px 0;
        }
        
        .progress-bar-custom {
            height: 30px;
            background: rgba(10, 10, 15, 0.8);
            border-radius: 15px;
            overflow: hidden;
            border: 2px solid rgba(0, 240, 255, 0.3);
            position: relative;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--neon-cyan), var(--neon-violet));
            box-shadow: 0 0 20px var(--neon-cyan);
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 15px;
            font-family: 'Orbitron', sans-serif;
            font-weight: 700;
            color: #fff;
        }
        
        .eta-display {
            font-family: 'Orbitron', sans-serif;
            color: var(--neon-cyan);
            font-size: 1.8rem;
            margin: 20px 0;
        }
        
        .tips-section {
            margin-top: 50px;
            text-align: left;
        }
        
        .tip-card {
            background: rgba(10, 10, 15, 0.6);
            border-left: 4px solid var(--neon-cyan);
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
            animation: fadeInUp 0.5s ease;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .tip-card h4 {
            color: var(--neon-cyan);
            font-family: 'Orbitron', sans-serif;
            font-size: 1.2rem;
            margin-bottom: 10px;
        }
        
        .tip-card p {
            color: #bbb;
            margin: 0;
            line-height: 1.7;
        }
        
        .spinner {
            width: 80px;
            height: 80px;
            margin: 20px auto;
            border: 6px solid rgba(0, 240, 255, 0.2);
            border-top: 6px solid var(--neon-cyan);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="bg-animated">
        <div class="circuit-grid"></div>
    </div>
    
    <div class="processing-container">
        <div class="processing-card">
            <h1 class="processing-title">
                <i class="bi bi-cpu-fill"></i> AI Processing in Progress
            </h1>
            
            <div class="spinner"></div>
            
            <div class="pipeline">
                <div class="energy-flow"></div>
                
                <div class="pipeline-step">
                    <div class="step-icon completed" id="step1">
                        <i class="bi bi-cloud-upload-fill"></i>
                    </div>
                    <div class="step-label">Image Uploaded</div>
                </div>
                
                <div class="pipeline-step">
                    <div class="step-icon active" id="step2">
                        <i class="bi bi-filter-circle-fill"></i>
                    </div>
                    <div class="step-label active">Preprocessing</div>
                </div>
                
                <div class="pipeline-step">
                    <div class="step-icon" id="step3">
                        <i class="bi bi-lightning-charge-fill"></i>
                    </div>
                    <div class="step-label">Model Inference</div>
                </div>
                
                <div class="pipeline-step">
                    <div class="step-icon" id="step4">
                        <i class="bi bi-file-earmark-text-fill"></i>
                    </div>
                    <div class="step-label">Report Generation</div>
                </div>
            </div>
            
            <div class="progress-section">
                <div class="progress-bar-custom">
                    <div class="progress-fill" id="progressFill" style="width: 25%;">25%</div>
                </div>
                <div class="eta-display">
                    <i class="bi bi-clock-fill"></i> Estimated Time: <span id="etaTime">12</span>s
                </div>
            </div>
            
            <div class="tips-section">
                <div class="tip-card" id="tip1">
                    <h4><i class="bi bi-lightbulb-fill"></i> Did you know?</h4>
                    <p>Our YOLOv8 model can detect insulator faults even in foggy conditions with 97%+ accuracy thanks to advanced domain generalization techniques.</p>
                </div>
                
                <div class="tip-card" id="tip2" style="display: none;">
                    <h4><i class="bi bi-shield-check"></i> Safety First</h4>
                    <p>Traditional manual inspection exposes workers to high-voltage equipment and dangerous heights. UAV-based AI inspection eliminates these risks entirely.</p>
                </div>
                
                <div class="tip-card" id="tip3" style="display: none;">
                    <h4><i class="bi bi-piggy-bank-fill"></i> Cost Savings</h4>
                    <p>AI-powered automation reduces inspection time by 80% and can save up to $50,000 per year in labor and equipment costs for medium-sized operations.</p>
                </div>
                
                <div class="tip-card" id="tip4" style="display: none;">
                    <h4><i class="bi bi-graph-up-arrow"></i> Prevent Outages</h4>
                    <p>Early detection of insulator damage prevents catastrophic power failures. A single prevented outage can save millions in lost productivity and emergency repairs.</p>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let progress = 25;
        let eta = 12;
        let currentStep = 2;
        let currentTip = 1;
        
        const steps = ['step1', 'step2', 'step3', 'step4'];
        const stepLabels = ['Image Uploaded', 'Preprocessing', 'Model Inference', 'Report Generation'];
        
        // Simulate processing
        const processingInterval = setInterval(() => {
            if (progress < 100) {
                progress += Math.random() * 10;
                if (progress > 100) progress = 100;
                
                eta = Math.max(0, eta - 1);
                
                // Update progress bar
                document.getElementById('progressFill').style.width = progress + '%';
                document.getElementById('progressFill').textContent = Math.round(progress) + '%';
                document.getElementById('etaTime').textContent = eta;
                
                // Update pipeline steps
                if (progress > 25 && currentStep === 2) {
                    document.getElementById('step2').classList.remove('active');
                    document.getElementById('step2').classList.add('completed');
                    document.getElementById('step3').classList.add('active');
                    document.querySelectorAll('.step-label')[2].classList.add('active');
                    document.querySelectorAll('.step-label')[1].classList.remove('active');
                    currentStep = 3;
                }
                
                if (progress > 60 && currentStep === 3) {
                    document.getElementById('step3').classList.remove('active');
                    document.getElementById('step3').classList.add('completed');
                    document.getElementById('step4').classList.add('active');
                    document.querySelectorAll('.step-label')[3].classList.add('active');
                    document.querySelectorAll('.step-label')[2].classList.remove('active');
                    currentStep = 4;
                }
                
                // Complete
                if (progress >= 100) {
                    document.getElementById('step4').classList.remove('active');
                    document.getElementById('step4').classList.add('completed');
                    clearInterval(processingInterval);
                    clearInterval(tipInterval);
                    
                    setTimeout(() => {
                        window.location.href = 'result.html';
                    }, 1000);
                }
            }
        }, 1000);
        
        // Rotate tips
        const tipInterval = setInterval(() => {
            document.getElementById('tip' + currentTip).style.display = 'none';
            currentTip = (currentTip % 4) + 1;
            document.getElementById('tip' + currentTip).style.display = 'block';
        }, 4000);
    </script>
</body>
</html>
